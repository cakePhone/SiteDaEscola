import{s as at,a as P,f as $,G as ut,d as g,c as G,g as S,h as O,v as ft,w as Y,F as M,j as v,k as dt,i as X,x as T,y as j,I as mt,H as pt,C as ht,o as _t}from"../chunks/scheduler.4c8a25f8.js";import{S as gt,i as wt,b as k,d as R,m as W,a as J,t as K,e as Q}from"../chunks/index.8c2b986e.js";import{e as it}from"../chunks/each.e59479a4.js";import{I as U}from"../chunks/Icon.1ad3f54e.js";const Et=300,vt=60,lt="none";function F(s,e,t){return s.addEventListener(e,t),()=>s.removeEventListener(e,t)}function It(s,e){return e.filter(t=>s.pointerId!==t.pointerId)}function B(s,e,t,i,o){s.dispatchEvent(new CustomEvent(`${e}${o}`,{detail:{event:t,pointersCount:i.length,target:t.target}}))}function Tt(s,e,t,i,o,c=lt){e.style.touchAction=c;let n=[];function m(w){n.push(w),B(e,s,w,n,"down"),i==null||i(n,w);const _=w.pointerId;function f(l){_===l.pointerId&&(n=It(l,n),n.length||A(),B(e,s,l,n,"up"),o==null||o(n,l))}function A(){a(),p(),D(),E()}const a=F(e,"pointermove",l=>{n=n.map(y=>l.pointerId===y.pointerId?l:y),B(e,s,l,n,"move"),t==null||t(n,l)}),p=F(e,"lostpointercapture",l=>{f(l)}),D=F(e,"pointerup",l=>{f(l)}),E=F(e,"pointerleave",l=>{n=[],A(),B(e,s,l,n,"up"),o==null||o(n,l)})}const h=F(e,"pointerdown",m);return{destroy:()=>{h()}}}function $t(s,e){const t={timeframe:Et,minSwipeDistance:vt,touchAction:lt,composed:!1,...e},i="swipe";let o,c,n,m;function h(_,f){c=f.clientX,n=f.clientY,o=Date.now(),_.length===1&&(m=f.target)}function w(_,f){if(f.type==="pointerup"&&_.length===0&&Date.now()-o<t.timeframe){const A=f.clientX-c,a=f.clientY-n,p=Math.abs(A),D=Math.abs(a);let E=null;p>=2*D&&p>t.minSwipeDistance?E=A>0?"right":"left":D>=2*p&&D>t.minSwipeDistance&&(E=a>0?"bottom":"top"),E&&s.dispatchEvent(new CustomEvent(i,{detail:{direction:E,target:m}}))}}return t.composed?{onMove:null,onDown:h,onUp:w}:Tt(i,s,null,h,w,t.touchAction)}function ot(s,e,t){const i=s.slice();return i[10]=e[t],i}function ct(s){let e,t,i,o;return{c(){e=$("img"),this.h()},l(c){e=S(c,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){M(e.src,t=s[10])||v(e,"src",t),v(e,"alt",""),v(e,"class","rounded-md transition-all cursor-zoom-in")},m(c,n){X(c,e,n),i||(o=j(e,"click",s[4]),i=!0)},p(c,n){n&1&&!M(e.src,t=c[10])&&v(e,"src",t)},d(c){c&&g(e),i=!1,o()}}}function St(s){let e,t,i,o,c,n,m,h,w,_,f,A,a,p,D,E,l,y,Z="Galeria",V,L,b,q,C;c=new U({props:{icon:"ic:round-arrow-left",class:"h-16 w-16 hidden lg:block"}}),f=new U({props:{icon:"ic:round-arrow-right",class:"h-16 w-16 hidden lg:block"}}),p=new U({props:{icon:"ic:round-close",class:"text-headings h-10 w-10"}});let N=it(s[0]),d=[];for(let r=0;r<N.length;r+=1)d[r]=ct(ot(s,N,r));return{c(){e=P(),t=$("section"),i=$("div"),o=$("button"),k(c.$$.fragment),n=P(),m=$("img"),w=P(),_=$("button"),k(f.$$.fragment),A=P(),a=$("button"),k(p.$$.fragment),D=P(),E=$("article"),l=$("section"),y=$("h1"),y.textContent=Z,V=P(),L=$("div");for(let r=0;r<d.length;r+=1)d[r].c();this.h()},l(r){ut("svelte-gvi8p9",document.head).forEach(g),e=G(r),t=S(r,"SECTION",{class:!0});var u=O(t);i=S(u,"DIV",{class:!0});var H=O(i);o=S(H,"BUTTON",{});var tt=O(o);R(c.$$.fragment,tt),tt.forEach(g),n=G(H),m=S(H,"IMG",{src:!0,alt:!0,class:!0}),w=G(H),_=S(H,"BUTTON",{});var et=O(_);R(f.$$.fragment,et),et.forEach(g),H.forEach(g),A=G(u),a=S(u,"BUTTON",{class:!0});var nt=O(a);R(p.$$.fragment,nt),nt.forEach(g),u.forEach(g),D=G(r),E=S(r,"ARTICLE",{});var rt=O(E);l=S(rt,"SECTION",{});var z=O(l);y=S(z,"H1",{id:!0,"data-svelte-h":!0}),ft(y)!=="svelte-nwn3t6"&&(y.textContent=Z),V=G(z),L=S(z,"DIV",{class:!0,style:!0});var st=O(L);for(let x=0;x<d.length;x+=1)d[x].l(st);st.forEach(g),z.forEach(g),rt.forEach(g),this.h()},h(){document.title="ESA - Escola | Galeria",Y(o,"hidden",s[3]===1),M(m.src,h=s[2])||v(m,"src",h),v(m,"alt",""),v(m,"class","min-w-full lg:w-[50vw]"),Y(_,"hidden",s[3]===40),v(i,"class","flex text-headings items-center"),v(a,"class","absolute top-10 right-10"),v(t,"class","fixed z-50 top-0 left-0 h-screen w-screen flex justify-center items-center bg-surface-50 bg-opacity-60 !p-0"),Y(t,"hidden",!s[1]),v(y,"id","galeria"),v(L,"class","grid grid-material-group grid-auto-fit"),dt(L,"--size","300px")},m(r,I){X(r,e,I),X(r,t,I),T(t,i),T(i,o),W(c,o,null),T(i,n),T(i,m),T(i,w),T(i,_),W(f,_,null),T(t,A),T(t,a),W(p,a,null),X(r,D,I),X(r,E,I),T(E,l),T(l,y),T(l,V),T(l,L);for(let u=0;u<d.length;u+=1)d[u]&&d[u].m(L,null);b=!0,q||(C=[j(o,"click",s[7]),j(_,"click",s[8]),j(a,"click",s[9]),mt($t.call(null,t,{timeframe:300,minSwipeDistance:60})),j(t,"swipe",s[6])],q=!0)},p(r,[I]){if((!b||I&8)&&Y(o,"hidden",r[3]===1),(!b||I&4&&!M(m.src,h=r[2]))&&v(m,"src",h),(!b||I&8)&&Y(_,"hidden",r[3]===40),(!b||I&2)&&Y(t,"hidden",!r[1]),I&17){N=it(r[0]);let u;for(u=0;u<N.length;u+=1){const H=ot(r,N,u);d[u]?d[u].p(H,I):(d[u]=ct(H),d[u].c(),d[u].m(L,null))}for(;u<d.length;u+=1)d[u].d(1);d.length=N.length}},i(r){b||(J(c.$$.fragment,r),J(f.$$.fragment,r),J(p.$$.fragment,r),b=!0)},o(r){K(c.$$.fragment,r),K(f.$$.fragment,r),K(p.$$.fragment,r),b=!1},d(r){r&&(g(e),g(t),g(D),g(E)),Q(c),Q(f),Q(p),pt(d,r),q=!1,ht(C)}}}function At(s,e,t){const i=[];let o=!1,c,n;function m(a){const p=a.target;t(2,c=p.src),t(3,n=parseInt(c.slice(-6,-4).replace(/\D/g,""))-1),t(1,o=!0)}function h(a){return a?(n+1<=39&&t(3,n++,n),t(2,c=i[n])):(n-1>=0&&t(3,n--,n),t(2,c=i[n]))}function w(a){switch(a.detail.direction){case"left":h(!0);break;case"right":h(!1);break;default:return}}return _t(()=>{for(let a=1;a<=40;a++)t(0,i[a-1]=`/escola/galeria/i${a}.jpg`,i)}),[i,o,c,n,m,h,w,()=>h(!1),()=>h(!0),()=>{t(1,o=!1)}]}class bt extends gt{constructor(e){super(),wt(this,e,At,St,at,{})}}export{bt as component};
